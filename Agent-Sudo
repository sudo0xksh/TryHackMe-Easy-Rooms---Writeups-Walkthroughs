# Agent Sudo â€” TryHackMe (Easy) ğŸ•µï¸â€â™‚ï¸ğŸ’¥

Agent Sudo is one of those machines that doesnâ€™t fight back.  
It just **gives up** if you ask nicely (or not so nicely).

No zero-days.  
No galaxy-brain exploits.  
Just bad decisions stacked on top of worse decisions.

Result?  
ğŸ‘‰ **Root access with minimum effort and maximum disappointment for the sysadmin.**

---

## Initial Reconnaissance ğŸ”ğŸ‘€

As always, started with the good old *â€œletâ€™s see what you exposed to the internetâ€* scan.

nmap -sC -sV -oN nmap.txt 10.10.9.71

Open ports screaming for attention:

21/tcp  FTP     vsftpd 3.0.3 ğŸ“  
22/tcp  SSH     OpenSSH 7.6p1 ğŸ”  
80/tcp  HTTP    Apache 2.4.29 ğŸŒ  

FTP + SSH together is like leaving your house keys under the doormat  
â€¦and then putting a sign saying **â€œkeys under the mat btwâ€**.

---

## Web Enumeration (Port 80) ğŸŒğŸª¦

Visited the website.

Found:
- A very boring announcement page  
- Zero input fields  
- Zero creativity  

Still did directory enumeration because trusting a website is a rookie mistake.

dirsearch -u http://10.10.9.71 -e php,html,js

What showed up:
- .htaccess related files ğŸ“„  
- /server-status endpoint (403 â€” *nice try Apache*)  

Nothing exploitable here.  
Web server basically said: **â€œIâ€™m useless, go bother someone else.â€**

---

## FTP Enumeration (Port 21) ğŸ“‚ğŸ˜

FTP is exposed.  
Anonymous login is disabled.  
Admin feels safe.  
Admin is wrong.

Tried some basic credential guessing and boom ğŸ’¥

Valid FTP login:

Username: chris  
Password: crystal  

Inside FTP?  
Files casually mentioning internal users like itâ€™s office gossip.

Users leaked:
- christ
- james

At this point the machine basically whispered:  
**â€œTry these on SSH, I dare you.â€**

---

## SSH Access (Port 22) ğŸ”‘ğŸ˜

Used the leaked usernames and password patterns.

SSH said:  
ğŸ‘‰ *â€œWelcome bro.â€*

Successful login:

Username: james  
Password: hackerrules!  

User shell obtained.  
System integrity officially compromised.  
Time to disrespect sudo.

---

## Privilege Escalation ğŸš€ğŸ”¥

First rule after getting a shell:  
**Always run sudo -l before celebrating.**

sudo -l

Output was interesting.  
Sudo rules were restrictiveâ€¦  
â€¦but not restrictive *enough* ğŸ˜ˆ

Old sudo version + bad config = ğŸ

---

## CVE-2019-14287 â€” Sudo Goes Brrr ğŸ’£ğŸ˜¬

This vulnerability allows privilege escalation by abusing **negative user IDs**.

Yes, negative.  
Because apparently someone thought that was a good idea.

Exploit command:

sudo -u#-1 /bin/bash

System response:

Root shell spawned âœ…  
Security controls: nonexistent âŒ  
Sysadminâ€™s hopes and dreams: shattered ğŸ’€

---

## Root Access ğŸğŸ‘‘

- Root shell obtained  
- Root directory accessed  
- Root flag collected  

Machine status: **Owned. Buried. Forgotten.**

---

## Key Takeaways ğŸ§ ğŸ“Œ

- Credential reuse is still ruining lives  
- FTP shouldâ€™ve stayed in the 90s  
- Old sudo + bad config = instant regret  
- You donâ€™t need elite exploits when basics are broken  

---

## Final Words â˜•ğŸ˜Œ

Agent Sudo is a reminder that:
> â€œIf your fundamentals suck, attackers wonâ€™t need talent.â€

Clean enumeration.  
Basic thinking.  
Free root.

Easy box.  
Easier mistakes.
